!function(){"use strict";var e={72:function(e,t,o){e.exports=o.p+"056a2d1abda880a7f100.svg"},901:function(e,t,o){e.exports=o.p+"42607b404307110b991c.svg"},964:function(e,t,o){e.exports=o.p+"7349b2959a78fac40649.svg"},739:function(e,t,o){e.exports=o.p+"b550feef07cac9179fa7.svg"},642:function(e,t,o){e.exports=o.p+"76f2b93c585d2725658b.svg"},4:function(e,t,o){e.exports=o.p+"df3a02302a142faac9de.svg"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.p="",function(){class e{constructor(e,t,o){this._title=e.title,this._date=e.date,this._items=e.items,this._listSelector=t,this._handleDeleteButton=o,this._background=e.background}_getTemplate(){return document.querySelector(this._listSelector).content.querySelector(".form").cloneNode(!0)}_setEventListeners(){this._btnDelete.addEventListener("click",(e=>{this._element.remove()}))}remove(){this._element.remove()}stringToId(e){return e.toLowerCase().replace(/\s+/g,"-")}_getInputTemplate(){return document.querySelector(".template-input").content.querySelector(".form__checkbox").cloneNode(!0)}getRandomColor(){const e=["#FFF6E7","#F3E4F7","#EDBBB4","#ECECEC","#E5FFE6"];return e[Math.floor(Math.random()*e.length)]}getListElement(){this._element=this._getTemplate(),this._listTitleElement=this._element.querySelector(".form__title"),this._btnDelete=this._element.querySelector(".form__delete-button"),this._listDateElement=this._element.querySelector(".form__date"),this._listItemElement=this._element.querySelector(".form__task-input"),this._listContainerElement=this._element.querySelector(".form__list"),this._listTitleElement.value=this._title,this._listDateElement.value=this._date,this._element.style.backgroundColor=this._background?this._background:this.getRandomColor();const e=e=>{const t=this._getInputTemplate(),o=t.querySelector(".form__checkbox-input"),n=t.querySelector(".form__checkbox-label"),r=this.stringToId(e);o.setAttribute("id",r),o.setAttribute("value",e),n.setAttribute("for",r),n.textContent=e,this._listContainerElement.appendChild(t)};return this._items.forEach(e),this._listItemElement.addEventListener("keypress",(t=>{if(13===t.keyCode){t.preventDefault();const o=this._listItemElement.value.trim();""!==o&&(e(o),this._listItemElement.value="")}})),this._setEventListeners(),this._element}}const t=document.querySelector(".main__weather-text"),n=document.querySelector(".main__info-weather-icon"),r={"01":o(4),"02":o(642),"03":o(642),"04":o(642),"09":o(72),10:o(964),11:o(901),13:o(739),50:o(642)};new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>{const{latitude:o,longitude:n}=t.coords;e({latitude:o,longitude:n})}),(e=>{t(e)}))})).then((e=>fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e.latitude}&lon=${e.longitude}&units=imperial&appid=8e9b6c701c1c48737f12e387a8724a0c`).then((e=>function(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}(e))))).catch((e=>{console.error("Error:",e)})).then((e=>{t.textContent=`${Math.round(e.main.temp)}Â°F`;const o=e.weather[0].icon.slice(0,2),i=r[o];n.src=i})).catch((e=>{console.error("Error:",e)}));const i=document.querySelector(".main__info-text"),s=new Date;i.textContent=s.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric"});const l=document.querySelector(".forms__nav-button"),a=(document.querySelector(".form_default"),document.querySelector(".forms__container"));l.addEventListener("click",(()=>{const t=new e({title:"Add Title",date:"",items:[]},".template-list",(()=>{console.log("click!")})).getListElement();a.appendChild(t)})),[{title:"Cleaning List",date:"2024-03-01",background:"#FFF6E7",items:["Vacuum the floors","Dust surfaces","Clean the bathrooms","Do laundry"]},{title:"Workout List",date:"2024-03-01",background:"#E5FFE6",items:["Go for a run","Do strength training","Stretch for 10 minutes","Practice yoga"]},{title:"Self-Care List",date:"2024-03-01",background:"#F3E4F7",items:["Meditate for 15 minutes","Take a relaxing bath","Read a book","Practice gratitude journaling"]},{title:"Work To-Do List",date:"2024-03-01",background:"#EDBBB4",items:["Complete project report","Prepare presentation slides","Respond to emails","Schedule meetings"]}].map((t=>{const o=new e(t,".template-list",(()=>{console.log("click!")})).getListElement();a.appendChild(o)}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFFcENvRixHQURjckYsU0FBU0MsY0FBYyxpQkFDckJELFNBQVNDLGNBQWMsc0JBRTdDbUYsRUFBVzlFLGlCQUFpQixTQUFTLEtBQ25DLE1BUU1nRixFQUhPLElBQUl2RyxFQUxHLENBQ2xCTyxNQUFPLFlBQ1BFLEtBQU0sR0FDTkUsTUFBTyxJQUUwQixrQkFBa0IsS0FDbkR5RSxRQUFRb0IsSUFBSSxTQUFTLElBRUVsRSxpQkFDekJnRSxFQUFjaEQsWUFBWWlELEVBQVksSUV6RHhDLENBQ0UsQ0FDRWhHLE1BQU8sZ0JBQ1BFLEtBQU0sYUFDTk0sV0FBWSxVQUNaSixNQUFPLENBQ0wsb0JBQ0EsZ0JBQ0Esc0JBQ0EsZUFHSixDQUNFSixNQUFPLGVBQ1BFLEtBQU0sYUFDTk0sV0FBWSxVQUNaSixNQUFPLENBQ0wsZUFDQSx1QkFDQSx5QkFDQSxrQkFHSixDQUNFSixNQUFPLGlCQUNQRSxLQUFNLGFBQ05NLFdBQVksVUFDWkosTUFBTyxDQUNMLDBCQUNBLHVCQUNBLGNBQ0Esa0NBR0osQ0FDRUosTUFBTyxrQkFDUEUsS0FBTSxhQUNOTSxXQUFZLFVBQ1pKLE1BQU8sQ0FDTCwwQkFDQSw4QkFDQSxvQkFDQSx1QkYrQkM4RixLQUFLMUQsSUFDUixNQUdNd0QsRUFITyxJQUFJdkcsRUFBSytDLEVBQU0sa0JBQWtCLEtBQzVDcUMsUUFBUW9CLElBQUksU0FBUyxJQUVFbEUsaUJBQ3pCZ0UsRUFBY2hELFlBQVlpRCxFQUFZLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy9jb21wb25lbnRzL0xpc3QuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL3V0aWxzL3dlYXRoZXJBcGkuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy91dGlscy9kYXRhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3Qge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBsaXN0U2VsZWN0b3IsIGhhbmRsZURlbGV0ZUJ1dHRvbikge1xuICAgIHRoaXMuX3RpdGxlID0gZGF0YS50aXRsZTtcbiAgICB0aGlzLl9kYXRlID0gZGF0YS5kYXRlO1xuICAgIHRoaXMuX2l0ZW1zID0gZGF0YS5pdGVtcztcbiAgICB0aGlzLl9saXN0U2VsZWN0b3IgPSBsaXN0U2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xuICAgIHRoaXMuX2JhY2tncm91bmQgPSBkYXRhLmJhY2tncm91bmQ7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgbGlzdFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9saXN0U2VsZWN0b3IpLmNvbnRlbnQ7XG4gICAgY29uc3QgbGlzdEVsZW1lbnQgPSBsaXN0VGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gbGlzdEVsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fYnRuRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICBzdHJpbmdUb0lkKHN0cikge1xuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZW1wbGF0ZS1pbnB1dFwiKS5jb250ZW50O1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2NoZWNrYm94XCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGdldFJhbmRvbUNvbG9yKCkge1xuICAgIGNvbnN0IGNvbG9ycyA9IFtcIiNGRkY2RTdcIiwgXCIjRjNFNEY3XCIsIFwiI0VEQkJCNFwiLCBcIiNFQ0VDRUNcIiwgXCIjRTVGRkU2XCJdO1xuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCk7XG4gICAgcmV0dXJuIGNvbG9yc1tyYW5kb21JbmRleF07XG4gIH1cblxuICBnZXRMaXN0RWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9saXN0VGl0bGVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3RpdGxlXCIpO1xuICAgIHRoaXMuX2J0bkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19kZWxldGUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2xpc3REYXRlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19kYXRlXCIpO1xuICAgIHRoaXMuX2xpc3RJdGVtRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX190YXNrLWlucHV0XCIpO1xuICAgIHRoaXMuX2xpc3RDb250YWluZXJFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2xpc3RcIik7XG4gICAgdGhpcy5fbGlzdFRpdGxlRWxlbWVudC52YWx1ZSA9IHRoaXMuX3RpdGxlO1xuICAgIHRoaXMuX2xpc3REYXRlRWxlbWVudC52YWx1ZSA9IHRoaXMuX2RhdGU7XG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kXG4gICAgICA/IHRoaXMuX2JhY2tncm91bmRcbiAgICAgIDogdGhpcy5nZXRSYW5kb21Db2xvcigpO1xuXG4gICAgY29uc3QgYWRkSXRlbVRvQ29udGFpbmVyID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGlucHV0VGVtcGxhdGUgPSB0aGlzLl9nZXRJbnB1dFRlbXBsYXRlKCk7XG4gICAgICBjb25zdCBjaGVja2JveElucHV0ID0gaW5wdXRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBcIi5mb3JtX19jaGVja2JveC1pbnB1dFwiXG4gICAgICApO1xuICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gaW5wdXRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2NoZWNrYm94LWxhYmVsXCIpO1xuXG4gICAgICBjb25zdCBpZCA9IHRoaXMuc3RyaW5nVG9JZChpdGVtKTtcbiAgICAgIGNoZWNrYm94SW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuICAgICAgY2hlY2tib3hJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBpdGVtKTtcbiAgICAgIGxhYmVsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgaWQpO1xuICAgICAgbGFiZWxFbGVtZW50LnRleHRDb250ZW50ID0gaXRlbTtcblxuICAgICAgdGhpcy5fbGlzdENvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXRUZW1wbGF0ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goYWRkSXRlbVRvQ29udGFpbmVyKTtcblxuICAgIHRoaXMuX2xpc3RJdGVtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbmV3SXRlbSA9IHRoaXMuX2xpc3RJdGVtRWxlbWVudC52YWx1ZS50cmltKCk7XG4gICAgICAgIGlmIChuZXdJdGVtICE9PSBcIlwiKSB7XG4gICAgICAgICAgYWRkSXRlbVRvQ29udGFpbmVyKG5ld0l0ZW0pO1xuICAgICAgICAgIHRoaXMuX2xpc3RJdGVtRWxlbWVudC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBkYXRhIGZyb20gXCIuLi91dGlscy9kYXRhLmpzXCI7XHJcbmltcG9ydCB7IGdldFdlYXRoZXIgfSBmcm9tIFwiLi4vdXRpbHMvd2VhdGhlckFwaVwiO1xyXG5pbXBvcnQgTGlzdCBmcm9tIFwiLi4vY29tcG9uZW50cy9MaXN0LmpzXCI7XHJcblxyXG4vLyBzaG93IHRoZSB3ZWF0aGVyIGFuZCB0ZW1wXHJcbmNvbnN0IHRlbXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX193ZWF0aGVyLXRleHRcIik7XHJcbmNvbnN0IHdlYXRoZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19pbmZvLXdlYXRoZXItaWNvblwiKTtcclxuXHJcbmNvbnN0IHdlYXRoZXJJY29ucyA9IHtcclxuICBcIjAxXCI6IHJlcXVpcmUoXCIuLi9pbWFnZXMvc3VuLnN2Z1wiKSxcclxuICBcIjAyXCI6IHJlcXVpcmUoXCIuLi9pbWFnZXMvY2xvdWQuc3ZnXCIpLFxyXG4gIFwiMDNcIjogcmVxdWlyZShcIi4uL2ltYWdlcy9jbG91ZC5zdmdcIiksXHJcbiAgXCIwNFwiOiByZXF1aXJlKFwiLi4vaW1hZ2VzL2Nsb3VkLnN2Z1wiKSxcclxuICBcIjA5XCI6IHJlcXVpcmUoXCIuLi9pbWFnZXMvY2xvdWQtZHJpenpsZS5zdmdcIiksXHJcbiAgMTA6IHJlcXVpcmUoXCIuLi9pbWFnZXMvY2xvdWQtcmFpbi5zdmdcIiksXHJcbiAgMTE6IHJlcXVpcmUoXCIuLi9pbWFnZXMvY2xvdWQtbGlnaHRuaW5nLnN2Z1wiKSxcclxuICAxMzogcmVxdWlyZShcIi4uL2ltYWdlcy9jbG91ZC1zbm93LnN2Z1wiKSxcclxuICA1MDogcmVxdWlyZShcIi4uL2ltYWdlcy9jbG91ZC5zdmdcIiksXHJcbn07XHJcblxyXG5nZXRXZWF0aGVyKClcclxuICAudGhlbigod2VhdGhlckRhdGEpID0+IHtcclxuICAgIHRlbXBFbGVtZW50LnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZCh3ZWF0aGVyRGF0YS5tYWluLnRlbXApfcKwRmA7XHJcbiAgICBjb25zdCB3ZWF0aGVyQ29kZSA9IHdlYXRoZXJEYXRhLndlYXRoZXJbMF0uaWNvbi5zbGljZSgwLCAyKTtcclxuICAgIGNvbnN0IGljb25VcmwgPSB3ZWF0aGVySWNvbnNbd2VhdGhlckNvZGVdO1xyXG4gICAgd2VhdGhlckVsZW1lbnQuc3JjID0gaWNvblVybDtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xyXG4gIH0pO1xyXG5cclxuLy8gc2hvdyB0b2RheVxyXG5jb25zdCB0b2RheUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX2luZm8tdGV4dFwiKTtcclxuY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG50b2RheUVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZW4tVVNcIiwge1xyXG4gIHdlZWtkYXk6IFwic2hvcnRcIixcclxuICBtb250aDogXCJzaG9ydFwiLFxyXG4gIGRheTogXCJudW1lcmljXCIsXHJcbn0pO1xyXG5cclxuLy8gYWRkIG5ldyBsaXN0XHJcbmNvbnN0IGJ0bk5ld0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1zX19uYXYtYnV0dG9uXCIpO1xyXG5jb25zdCBmb3JtRGVmYXVsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9kZWZhdWx0XCIpO1xyXG5jb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3Jtc19fY29udGFpbmVyXCIpO1xyXG5cclxuYnRuTmV3TGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGRlZmF1bHRMaXN0ID0ge1xyXG4gICAgdGl0bGU6IFwiQWRkIFRpdGxlXCIsXHJcbiAgICBkYXRlOiBcIlwiLFxyXG4gICAgaXRlbXM6IFtdLFxyXG4gIH07XHJcbiAgY29uc3QgbGlzdCA9IG5ldyBMaXN0KGRlZmF1bHRMaXN0LCBcIi50ZW1wbGF0ZS1saXN0XCIsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiY2xpY2shXCIpO1xyXG4gIH0pO1xyXG4gIGNvbnN0IGxpc3RFbGVtZW50ID0gbGlzdC5nZXRMaXN0RWxlbWVudCgpO1xyXG4gIGZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEVsZW1lbnQpO1xyXG59KTtcclxuXHJcbi8vIGRlbGV0ZSBuZXcgbGlzdFxyXG5cclxuLy8gY29uc29sZS5sb2coYnRuRm9ybURlbGV0ZSk7XHJcblxyXG5jb25zdCBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XHJcbiAgYnRuRm9ybURlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGNvbnN0IGZvcm0gPSBlLnRhcmdldC5jbG9zZXN0KFwiLmZvcm1cIik7XHJcbiAgICBmb3JtLnJlbW92ZSgpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gcmVuZGVyIGFsbCBsaXN0c1xyXG5jb25zdCBjcmVhdGVMaXN0ID0gKGRhdGEpID0+IHtcclxuICBkYXRhLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgbGlzdCA9IG5ldyBMaXN0KGl0ZW0sIFwiLnRlbXBsYXRlLWxpc3RcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNsaWNrIVwiKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbGlzdEVsZW1lbnQgPSBsaXN0LmdldExpc3RFbGVtZW50KCk7XHJcbiAgICBmb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RFbGVtZW50KTtcclxuICB9KTtcclxufTtcclxuXHJcbmNyZWF0ZUxpc3QoZGF0YSk7XHJcblxyXG4vLyBOb3Rlc1xyXG4vLyBXZSBuZWVkIHRvIHRvZ2dsZSB0aGUgYmxhY2sgY2hlY2tib3ggaW4gdGhlIGZvcm0gd2hlbiBjbGlja2VkIG9uXHJcbiIsImNvbnN0IEFQSWtleSA9IFwiOGU5YjZjNzAxYzFjNDg3MzdmMTJlMzg3YTg3MjRhMGNcIjtcblxuY29uc3QgZ2V0Q29vcmRzID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXG4gICAgICAocG9zaXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0gPSBwb3NpdGlvbi5jb29yZHM7XG4gICAgICAgIHJlc29sdmUoeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0pO1xuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlYXRoZXIoKSB7XG4gIHJldHVybiBnZXRDb29yZHMoKVxuICAgIC50aGVuKChjb29yZHMpID0+IHtcbiAgICAgIHJldHVybiBmZXRjaChcbiAgICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP2xhdD0ke2Nvb3Jkcy5sYXRpdHVkZX0mbG9uPSR7Y29vcmRzLmxvbmdpdHVkZX0mdW5pdHM9aW1wZXJpYWwmYXBwaWQ9JHtBUElrZXl9YFxuICAgICAgKS50aGVuKChyZXMpID0+IGNoZWNrUmVzcG9uc2UocmVzKSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgaWYgKHJlcy5vaykge1xuICAgIHJldHVybiByZXMuanNvbigpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgJHtyZXMuc3RhdHVzfWApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgW1xyXG4gIHtcclxuICAgIHRpdGxlOiBcIkNsZWFuaW5nIExpc3RcIixcclxuICAgIGRhdGU6IFwiMjAyNC0wMy0wMVwiLFxyXG4gICAgYmFja2dyb3VuZDogXCIjRkZGNkU3XCIsXHJcbiAgICBpdGVtczogW1xyXG4gICAgICBcIlZhY3V1bSB0aGUgZmxvb3JzXCIsXHJcbiAgICAgIFwiRHVzdCBzdXJmYWNlc1wiLFxyXG4gICAgICBcIkNsZWFuIHRoZSBiYXRocm9vbXNcIixcclxuICAgICAgXCJEbyBsYXVuZHJ5XCIsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiV29ya291dCBMaXN0XCIsXHJcbiAgICBkYXRlOiBcIjIwMjQtMDMtMDFcIixcclxuICAgIGJhY2tncm91bmQ6IFwiI0U1RkZFNlwiLFxyXG4gICAgaXRlbXM6IFtcclxuICAgICAgXCJHbyBmb3IgYSBydW5cIixcclxuICAgICAgXCJEbyBzdHJlbmd0aCB0cmFpbmluZ1wiLFxyXG4gICAgICBcIlN0cmV0Y2ggZm9yIDEwIG1pbnV0ZXNcIixcclxuICAgICAgXCJQcmFjdGljZSB5b2dhXCIsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiU2VsZi1DYXJlIExpc3RcIixcclxuICAgIGRhdGU6IFwiMjAyNC0wMy0wMVwiLFxyXG4gICAgYmFja2dyb3VuZDogXCIjRjNFNEY3XCIsXHJcbiAgICBpdGVtczogW1xyXG4gICAgICBcIk1lZGl0YXRlIGZvciAxNSBtaW51dGVzXCIsXHJcbiAgICAgIFwiVGFrZSBhIHJlbGF4aW5nIGJhdGhcIixcclxuICAgICAgXCJSZWFkIGEgYm9va1wiLFxyXG4gICAgICBcIlByYWN0aWNlIGdyYXRpdHVkZSBqb3VybmFsaW5nXCIsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiV29yayBUby1EbyBMaXN0XCIsXHJcbiAgICBkYXRlOiBcIjIwMjQtMDMtMDFcIixcclxuICAgIGJhY2tncm91bmQ6IFwiI0VEQkJCNFwiLFxyXG4gICAgaXRlbXM6IFtcclxuICAgICAgXCJDb21wbGV0ZSBwcm9qZWN0IHJlcG9ydFwiLFxyXG4gICAgICBcIlByZXBhcmUgcHJlc2VudGF0aW9uIHNsaWRlc1wiLFxyXG4gICAgICBcIlJlc3BvbmQgdG8gZW1haWxzXCIsXHJcbiAgICAgIFwiU2NoZWR1bGUgbWVldGluZ3NcIixcclxuICAgIF0sXHJcbiAgfSxcclxuXTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicCIsIkxpc3QiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJsaXN0U2VsZWN0b3IiLCJoYW5kbGVEZWxldGVCdXR0b24iLCJ0aGlzIiwiX3RpdGxlIiwidGl0bGUiLCJfZGF0ZSIsImRhdGUiLCJfaXRlbXMiLCJpdGVtcyIsIl9saXN0U2VsZWN0b3IiLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2JhY2tncm91bmQiLCJiYWNrZ3JvdW5kIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9idG5EZWxldGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJzdHJpbmdUb0lkIiwic3RyIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiX2dldElucHV0VGVtcGxhdGUiLCJnZXRSYW5kb21Db2xvciIsImNvbG9ycyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsImdldExpc3RFbGVtZW50IiwiX2xpc3RUaXRsZUVsZW1lbnQiLCJfbGlzdERhdGVFbGVtZW50IiwiX2xpc3RJdGVtRWxlbWVudCIsIl9saXN0Q29udGFpbmVyRWxlbWVudCIsInZhbHVlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhZGRJdGVtVG9Db250YWluZXIiLCJpdGVtIiwiaW5wdXRUZW1wbGF0ZSIsImNoZWNrYm94SW5wdXQiLCJsYWJlbEVsZW1lbnQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJmb3JFYWNoIiwiZXZlbnQiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJuZXdJdGVtIiwidHJpbSIsInRlbXBFbGVtZW50Iiwid2VhdGhlckVsZW1lbnQiLCJ3ZWF0aGVySWNvbnMiLCJyZXF1aXJlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJjb29yZHMiLCJlcnJvciIsInRoZW4iLCJmZXRjaCIsInJlcyIsIm9rIiwianNvbiIsInN0YXR1cyIsImNoZWNrUmVzcG9uc2UiLCJjYXRjaCIsImNvbnNvbGUiLCJ3ZWF0aGVyRGF0YSIsInJvdW5kIiwibWFpbiIsInRlbXAiLCJ3ZWF0aGVyQ29kZSIsIndlYXRoZXIiLCJpY29uIiwic2xpY2UiLCJpY29uVXJsIiwic3JjIiwidG9kYXlFbGVtZW50IiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwid2Vla2RheSIsIm1vbnRoIiwiZGF5IiwiYnRuTmV3TGlzdCIsImZvcm1Db250YWluZXIiLCJsaXN0RWxlbWVudCIsImxvZyIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=